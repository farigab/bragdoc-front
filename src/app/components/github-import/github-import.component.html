<div class="import-container">
  <p-card>
    <h2>GitHub Import</h2>

    <div class="form-row">
      <label>Personal Access Token</label>
      <input pInputText type="text" [ngModel]="token()" (ngModelChange)="token.set($event)" placeholder="ghp_xxxxxxxxxxxxxxxxxxxx"/>
      <small class="help-text">
        Create a token at
        <a href="https://github.com/settings/tokens/new?scopes=repo,read:user&description=farigab-bragdoc"
          target="_blank">
          GitHub Settings
        </a>
        with repo scope
      </small>
    </div>

    <div class="form-row">
      <label>Repository (owner/repo) (optional)</label>
      <input pInputText type="text" [ngModel]="repository()" (ngModelChange)="repository.set($event)" />
    </div>

    <div class="form-row">
      <label>Min Changes (for commits)</label>
      <input pInputText type="number" [ngModel]="minChanges()" (ngModelChange)="minChanges.set($event)" />
    </div>

    <div class="buttons">
      <button pButton label="Import Pull Requests" (click)="importPullRequests()" [loading]="loading().prs"></button>

      <button pButton label="Import Commits" (click)="importCommits()" [loading]="loading().commits"></button>
    </div>
  </p-card>

  <p-card *ngIf="result()">
    <h3>Result</h3>
    <pre>{{ result() | json }}</pre>
  </p-card>
</div>
